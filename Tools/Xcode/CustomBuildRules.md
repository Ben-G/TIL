Thanks to Ben Asher (https://twitter.com/benjaminencz/status/823935353086087168) I came across custom build rules for the first time today, while fixing a warning related to Metal files not having a build rule for the simulator architecture. 



More in-depth description of how to write custom rules:

https://www.objc.io/issues/6-build-tools/build-process/#build-rules